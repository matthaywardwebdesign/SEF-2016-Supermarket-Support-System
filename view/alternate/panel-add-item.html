<div class="panel panel-default text-center">
   <div class='panel-scroll'>
      <button class='btn btn-primary btn-large' onclick='Supermarket.loadPanel("transaction-details")'>Back</button>
      <hr>
      <div style='text-align:left;'>
         <h4>Add Item</h4>
         <hr>
         <input class='form-control' type='text' id='search-term' placeholder="Item Name" value='{{search}}'/>
         <br>
         <button class='btn btn-primary btn-large' style="width:100%" onclick='searchItems()'>Search</button>
         {{#if items}}
         <br><hr>
         <table class="table table-hover item-add-table">
            <thead>
               <tr>
                  <th>Name</th>
                  <th>Price</th>
                  <th>Per</th>
                  <th></th>
               </tr>
            </thead>
            <tbody>
               {{#each items}}
               <tr>
                  <td><a onclick='Supermarket.showItemDetails({{id}})'>{{name}}</a></td>
                  <td>{{price}}</td>
                  <td>{{unit}}</td>
                  <td>
                     {{#if soh}}
                     <button class='btn btn-primary btn-large' onclick='onClickAddItem({{id}},{{isWeighted}})'>Add</button>
                     {{else}}
                     Unavailable
                     {{/if}}
                  </td>
               </tr>
               {{/each}}
            </tbody>
         </table>
         {{/if}}
      </div>
   </div>
</div>
<script>
function searchItems(){
   var search = $("#search-term").val().trim();
   Supermarket.loadPanel("add-item?search=" + encodeURI(search));
}
</script>
